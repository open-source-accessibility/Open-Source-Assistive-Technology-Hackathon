<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="GitHub Learning Room - Open Source Assistive Technology Hackathon">
  <title>merge-pr.prompt - GitHub Learning Room</title>
  <link rel="stylesheet" href="./styles/github-markdown.css">
  <link rel="stylesheet" href="./styles/highlight.css">
  <link rel="stylesheet" href="./styles/custom.css">
  <style>
    .markdown-body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }
    @media (max-width: 767px) {
      .markdown-body {
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <nav aria-label="Breadcrumb" class="breadcrumb">
    <a href="./index.html">Home</a>
  </nav>
  <main class="markdown-body">
    <hr>
<h2>name: merge-pr
description: &quot;Merge a pull request -- checks readiness, picks merge strategy, and handles post-merge cleanup&quot;
agent: pr-review
tools:
  - github/*
  - ask_questions</h2>
<p>Merge a pull request after checking readiness.</p>
<p>${input:pr:PR reference -- e.g. owner/repo#123 or a GitHub PR URL}</p>
<h2>Steps</h2>
<ol>
<li>Parse the PR reference to extract owner, repo, and PR number.</li>
<li>Fetch PR metadata with #tool:mcp_github_github_pull_request_read (method: <code>get</code>).</li>
<li><strong>Check merge readiness:</strong><ul>
<li>Is the PR approved? (at least one approval, no outstanding &quot;changes requested&quot;)</li>
<li>Is CI passing? (all required checks green)</li>
<li>Are there merge conflicts?</li>
<li>Is the PR a draft? (cannot merge drafts)</li>
<li>Any branch protection rules that block merge?</li>
</ul>
</li>
<li><strong>If not ready</strong>, explain what&#39;s blocking:<pre><code>PR #{number} is not ready to merge:
- Missing required review from @alice
- CI check &quot;tests&quot; is failing
- Merge conflicts with base branch

Want me to help resolve any of these?
</code></pre>
</li>
<li><strong>If ready</strong>, present merge options via #tool:ask_questions:<ul>
<li><strong>Squash and merge</strong> (recommended -- clean history, single commit)</li>
<li><strong>Create a merge commit</strong> (preserves all commits)</li>
<li><strong>Rebase and merge</strong> (linear history, replays commits)</li>
</ul>
</li>
<li>Show the default merge commit message and offer to customize.</li>
<li>Final confirmation:<blockquote>
<p>Will merge PR #{number} &quot;{title}&quot; into <code>{base}</code> using <strong>squash and merge</strong>.
This action cannot be undone.</p>
</blockquote>
</li>
<li>Confirm with #tool:ask_questions: <strong>Merge</strong> (recommended), <strong>Edit message</strong>, <strong>Cancel</strong>.</li>
<li>Merge the PR.</li>
<li>Offer post-merge actions:<ul>
<li><strong>Delete source branch</strong> -- clean up the merged branch</li>
<li><strong>Close linked issues</strong> -- if the PR fixes issues, offer to close them</li>
<li><strong>Update briefing</strong> -- note the merge in today&#39;s briefing</li>
</ul>
</li>
<li>Confirm with link to the merged PR.</li>
</ol>
<p><strong>Safety:</strong> Always show what will happen and get explicit confirmation. Never auto-merge.</p>

  </main>
  <footer role="contentinfo" style="text-align: center; margin-top: 3rem; padding: 2rem; border-top: 1px solid #d0d7de;">
    <p>GitHub Learning Room - Open Source Assistive Technology Hackathon</p>
    <p><a href="https://github.com">Back to GitHub</a></p>
  </footer>
</body>
</html>